{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport MainConatiner from \"./navigation/MainContainer\";\nimport { useState, useEffect } from 'react';\nimport messaging from '@react-native-firebase/messaging';\nimport AppRegistry from \"react-native-web/dist/exports/AppRegistry\";\nimport { NavigationContainer, useNavigation } from '@react-navigation/native';\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction App() {\n  var navigation = useNavigation();\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState('Home'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    initialRoute = _useState4[0],\n    setInitialRoute = _useState4[1];\n  useEffect(function () {\n    messaging().onNotificationOpenedApp(function (remoteMessage) {\n      console.log('Notification caused app to open from background state:', remoteMessage.notification);\n      navigation.navigate(remoteMessage.data.type);\n    });\n    messaging().getInitialNotification().then(function (remoteMessage) {\n      if (remoteMessage) {\n        console.log('Notification caused app to open from quit state:', remoteMessage.notification);\n        setInitialRoute(remoteMessage.data.type);\n      }\n      setLoading(false);\n    });\n  }, []);\n  if (loading) {\n    console.log(\"error: no loading\");\n    return null;\n  }\n  messaging().sendMessage({\n    data: {\n      \"id\": \"data.id\",\n      \"content\": \"data.content\"\n    }\n  });\n  return _jsx(_Fragment, {\n    children: _jsx(MainConatiner, {})\n  });\n}\nexport default App;","map":{"version":3,"names":["React","MainConatiner","useState","useEffect","messaging","NavigationContainer","useNavigation","App","navigation","loading","setLoading","initialRoute","setInitialRoute","onNotificationOpenedApp","remoteMessage","console","log","notification","navigate","data","type","getInitialNotification","then","sendMessage"],"sources":["/Users/lihangning/Desktop/second-app/client/App.js"],"sourcesContent":["import * as React from 'react';\nimport MainConatiner from './navigation/MainContainer';\nimport  { useState, useEffect } from 'react';\nimport messaging from '@react-native-firebase/messaging';\nimport { AppRegistry } from 'react-native';\nimport { NavigationContainer, useNavigation } from '@react-navigation/native';\n\nfunction App() {\n  const navigation = useNavigation();\n  const [loading, setLoading] = useState(true);\n  const [initialRoute, setInitialRoute] = useState('Home');\n\n  useEffect(() => {\n    // Assume a message-notification contains a \"type\" property in the data payload of the screen to open\n\n    messaging().onNotificationOpenedApp(remoteMessage => {\n      console.log(\n        'Notification caused app to open from background state:',\n        remoteMessage.notification,\n      );\n      navigation.navigate(remoteMessage.data.type);\n    });\n\n    // Check whether an initial notification is available\n    messaging()\n      .getInitialNotification()\n      .then(remoteMessage => {\n        if (remoteMessage) {\n          console.log(\n            'Notification caused app to open from quit state:',\n            remoteMessage.notification,\n          );\n          setInitialRoute(remoteMessage.data.type); // e.g. \"Settings\"\n        }\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) {\n    console.log(\"error: no loading\")\n    return null;\n  }\n\n  messaging().sendMessage({\n    data:{\n      \"id\": \"data.id\",\n      \"content\": \"data.content\"\n    }\n  });\n\n  return (\n    <>\n      <MainConatiner />\n    </>\n  );\n}\n\nexport default App;"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,aAAa;AACpB,SAAUC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC5C,OAAOC,SAAS,MAAM,kCAAkC;AAAC;AAEzD,SAASC,mBAAmB,EAAEC,aAAa,QAAQ,0BAA0B;AAAC;AAAA;AAE9E,SAASC,GAAG,GAAG;EACb,IAAMC,UAAU,GAAGF,aAAa,EAAE;EAClC,gBAA8BJ,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArCO,OAAO;IAAEC,UAAU;EAC1B,iBAAwCR,QAAQ,CAAC,MAAM,CAAC;IAAA;IAAjDS,YAAY;IAAEC,eAAe;EAEpCT,SAAS,CAAC,YAAM;IAGdC,SAAS,EAAE,CAACS,uBAAuB,CAAC,UAAAC,aAAa,EAAI;MACnDC,OAAO,CAACC,GAAG,CACT,wDAAwD,EACxDF,aAAa,CAACG,YAAY,CAC3B;MACDT,UAAU,CAACU,QAAQ,CAACJ,aAAa,CAACK,IAAI,CAACC,IAAI,CAAC;IAC9C,CAAC,CAAC;IAGFhB,SAAS,EAAE,CACRiB,sBAAsB,EAAE,CACxBC,IAAI,CAAC,UAAAR,aAAa,EAAI;MACrB,IAAIA,aAAa,EAAE;QACjBC,OAAO,CAACC,GAAG,CACT,kDAAkD,EAClDF,aAAa,CAACG,YAAY,CAC3B;QACDL,eAAe,CAACE,aAAa,CAACK,IAAI,CAACC,IAAI,CAAC;MAC1C;MACAV,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,OAAO,EAAE;IACXM,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChC,OAAO,IAAI;EACb;EAEAZ,SAAS,EAAE,CAACmB,WAAW,CAAC;IACtBJ,IAAI,EAAC;MACH,IAAI,EAAE,SAAS;MACf,SAAS,EAAE;IACb;EACF,CAAC,CAAC;EAEF,OACE;IAAA,UACE,KAAC,aAAa;EAAG,EAChB;AAEP;AAEA,eAAeZ,GAAG"},"metadata":{},"sourceType":"module"}